function show_results(results_array, quakeHandle)
%UNTITLED3 Summary of this function goes here
%   Detailed explanation goes here
figure;
subplot(2,4,1);
plot(results_array{1}.time,quakeHandle(results_array{1}.time));
ylabel('Signal');
xlabel('t [s]');
subplot(2,4,2);
[freqs, amps]=fft_amps(results_array{1}.time(2)-results_array{1}.time(1), quakeHandle(results_array{1}.time));
semilogx(freqs,amps);
ylabel('Amplitude spectrum of the signal');
xlabel('f [Hz]');

c=cell(1,length(results_array));
max_force=zeros(1,length(results_array));
xQx=zeros(1,length(results_array));
uu=zeros(1,length(results_array));
for i=1:1:length(results_array)
    subplot(2,4,3);
    plot(results_array{i}.time, results_array{i}.state(:,20), 'DisplayName',results_array{i}.name);
    hold on;
    legend;
    ylabel('Deflections of the roof, x20 [m]');
    xlabel('t [s]');
    subplot(2,4,4);
    plot(results_array{i}.control_signal(:,1), vecnorm(results_array{i}.control_signal(:,2:end)')', 'DisplayName',results_array{i}.name);
    hold on;
    legend;
    ylabel('||u(t)||2');
    xlabel('t [s]');
    subplot(2,5,[6,7]);
    plot(results_array{i}.time,results_array{i}.J, 'DisplayName',results_array{i}.name);
    hold on;
    legend;
    ylabel('Structural energy, J=xTQx');
    xlabel('t [s]');
    c{i}=results_array{i}.name;
    max_force(i)=max(max(abs(results_array{i}.state(:,41:60)/6)));
    xQx(i)=results_array{i}.J(end);
    uu(i)=results_array{i}.u_norm;

%     disp([results_array{i}.name, ' maximal force generated by actuators: ',num2str(max_force)]);
%     disp([results_array{i}.name, ' performance criterion xQx: ', num2str(results_array{i}.J(end))]);
%     disp([results_array{i}.name, ' performance criterion uu: ',num2str(results_array{i}.u_norm)]);
end
subplot(2,5,8);
bar(categorical(c),(max_force));
ylabel('Maximal force of the actuators');
subplot(2,5,9);
bar(categorical(c),xQx);
ylabel('J=xQx');
subplot(2,5,10);
bar(categorical(c),uu);
ylabel('Control norm');
end

